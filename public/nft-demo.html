<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1, maximum-scale=1">
    <title>üèÜ NFT Reveal Demo - Rostro y C√≠rculo</title>
    <script src="https://cdn.jsdelivr.net/npm/aframe@1.6.0/dist/aframe-v1.6.0.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(45deg, #1a1a2e, #16213e, #0f3460);
            font-family: Arial, sans-serif;
            overflow: hidden;
        }
        
        #instructions {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0,0,0,0.9);
            color: #FFD700;
            padding: 15px 30px;
            border-radius: 25px;
            border: 3px solid #FFD700;
            text-align: center;
            z-index: 1000;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }
        
        #celebration-text {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #FFD700;
            font-size: 48px;
            font-weight: bold;
            text-align: center;
            z-index: 1001;
            opacity: 0;
            text-shadow: 0 0 20px #FFD700;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <div id="instructions">
        üéÆ Presiona ESPACIO para revelar tu NFT legendario! üèÜ
    </div>
    
    <div id="celebration-text">
        üèÜ LEGENDARY NFT! üèÜ<br>
        <div style="font-size: 24px; margin-top: 10px;">ROSTRO Y C√çRCULO</div>
    </div>

    <a-scene background="color: #000" vr-mode-ui="enabled: false">
        <!-- Lighting -->
        <a-light type="ambient" color="#ffffff" intensity="0.6"></a-light>
        <a-light type="directional" position="2 4 3" color="#ffffff" intensity="0.8"></a-light>
        <a-light type="point" position="-2 2 1" color="#FF6B6B" intensity="0.4"></a-light>
        <a-light type="point" position="2 2 1" color="#4ECDC4" intensity="0.4"></a-light>

        <!-- Camera -->
        <a-camera position="0 0 3" look-controls="enabled: false" wasd-controls="enabled: false"></a-camera>

        <!-- Particle systems for celebration -->
        <a-entity id="celebration-particles" visible="false">
            <!-- Golden particles explosion -->
            <a-sphere position="0 0 0" radius="0.05" color="#FFD700" 
                     animation="property: position; to: 4 4 4; dur: 3000; easing: easeOutQuart; delay: 500"
                     animation__scale="property: scale; to: 0 0 0; dur: 3000; delay: 500"
                     animation__opacity="property: material.opacity; to: 0; dur: 3000; delay: 500"></a-sphere>
            <a-sphere position="0 0 0" radius="0.05" color="#FFD700" 
                     animation="property: position; to: -4 4 -4; dur: 3000; easing: easeOutQuart; delay: 600"
                     animation__scale="property: scale; to: 0 0 0; dur: 3000; delay: 600"
                     animation__opacity="property: material.opacity; to: 0; dur: 3000; delay: 600"></a-sphere>
            <a-sphere position="0 0 0" radius="0.05" color="#FFD700" 
                     animation="property: position; to: 2 6 -2; dur: 3000; easing: easeOutQuart; delay: 700"
                     animation__scale="property: scale; to: 0 0 0; dur: 3000; delay: 700"
                     animation__opacity="property: material.opacity; to: 0; dur: 3000; delay: 700"></a-sphere>
            <a-sphere position="0 0 0" radius="0.05" color="#FFD700" 
                     animation="property: position; to: -2 6 2; dur: 3000; easing: easeOutQuart; delay: 800"
                     animation__scale="property: scale; to: 0 0 0; dur: 3000; delay: 800"
                     animation__opacity="property: material.opacity; to: 0; dur: 3000; delay: 800"></a-sphere>
            <a-sphere position="0 0 0" radius="0.05" color="#FFD700" 
                     animation="property: position; to: 0 8 0; dur: 3000; easing: easeOutQuart; delay: 900"
                     animation__scale="property: scale; to: 0 0 0; dur: 3000; delay: 900"
                     animation__opacity="property: material.opacity; to: 0; dur: 3000; delay: 900"></a-sphere>
        </a-entity>
        
        <!-- Glowing ring effects -->
        <a-ring id="glow-ring-1" position="0 0 0" radius-inner="1.5" radius-outer="2.0" 
               color="#FFD700" opacity="0" 
               animation="property: material.opacity; to: 0.8; dur: 1000; delay: 1000; easing: easeInOutQuad"
               animation__scale="property: scale; from: 0.1 0.1 0.1; to: 2 2 2; dur: 2000; delay: 1000; easing: easeOutBack"
               animation__rotate="property: rotation; to: 0 0 360; loop: true; dur: 4000; delay: 1000"></a-ring>
               
        <a-ring id="glow-ring-2" position="0 0 0" radius-inner="1.0" radius-outer="1.5" 
               color="#FF6B6B" opacity="0" 
               animation="property: material.opacity; to: 0.6; dur: 1000; delay: 1200; easing: easeInOutQuad"
               animation__scale="property: scale; from: 0.1 0.1 0.1; to: 1.5 1.5 1.5; dur: 2000; delay: 1200; easing: easeOutBack"
               animation__rotate="property: rotation; to: 0 0 -360; loop: true; dur: 3000; delay: 1200"></a-ring>
        
        <!-- Main NFT model - Rostro y C√≠rculo (procedural) -->
        <a-entity id="rostro-circulo-model" position="0 0 0" scale="0 0 0" rotation="0 0 0" nft-reveal-animation>
            
            <!-- Blue circular background -->
            <a-circle position="0 0 -0.1" radius="1.5" color="#4A90E2" opacity="0.9" 
                     material="shader: flat; transparent: true"></a-circle>
            
            <!-- Face/Head geometry -->
            <a-entity id="face-geometry">
                <!-- Main head shape -->
                <a-box position="0 0.2 0" scale="0.8 1.0 0.6" color="#F4C2A1" 
                       material="shader: flat"></a-box>
                
                <!-- Eyes -->
                <a-sphere position="-0.2 0.3 0.3" radius="0.08" color="#000000"></a-sphere>
                <a-sphere position="0.2 0.3 0.3" radius="0.08" color="#000000"></a-sphere>
                
                <!-- Eye highlights -->
                <a-sphere position="-0.18 0.32 0.35" radius="0.03" color="#FFFFFF"></a-sphere>
                <a-sphere position="0.22 0.32 0.35" radius="0.03" color="#FFFFFF"></a-sphere>
                
                <!-- Nose -->
                <a-triangle position="0 0.1 0.3" scale="0.1 0.1 0.1" color="#E8B088"
                           geometry="primitive: triangle" rotation="0 0 0"></a-triangle>
                
                <!-- Mouth -->
                <a-box position="0 -0.1 0.3" scale="0.3 0.05 0.05" color="#D2001F"
                       material="shader: flat"></a-box>
                
                <!-- Hair/Top -->
                <a-box position="0 0.7 0" scale="1.0 0.4 0.8" color="#8B4513"
                       material="shader: flat"></a-box>
            </a-entity>
            
            <!-- Decorative circle outline -->
            <a-ring position="0 0 -0.05" radius-inner="1.4" radius-outer="1.6" 
                   color="#FFD700" opacity="0.8" material="shader: flat"></a-ring>
            
        </a-entity>
    </a-scene>

    <script>
        let revealTriggered = false;
        
        // NFT Reveal Animation Component
        AFRAME.registerComponent('nft-reveal-animation', {
            startEpicReveal: function () {
                console.log('üéâ ¬°INICIANDO REVELACI√ìN NFT √âPICA! üéâ');
                console.log('üíé ¬°HAS ENCONTRADO UN NFT LEGENDARIO! üíé');
                
                // Show celebration particles
                document.getElementById('celebration-particles').setAttribute('visible', 'true');
                
                // Show celebration text
                const celebrationText = document.getElementById('celebration-text');
                celebrationText.style.opacity = '1';
                celebrationText.style.animation = 'bounce 1s ease-out';
                
                // Epic scale-in animation with bounce
                this.el.setAttribute('animation', {
                    property: 'scale',
                    from: '0 0 0',
                    to: '1 1 1',
                    dur: 2000,
                    delay: 500,
                    easing: 'easeOutBack'
                });
                
                // Dramatic entrance rotation
                this.el.setAttribute('animation__entrance', {
                    property: 'rotation',
                    from: '0 -180 0',
                    to: '0 0 0',
                    dur: 2000,
                    delay: 500,
                    easing: 'easeOutBack'
                });
                
                // Start continuous majestic rotation
                setTimeout(() => {
                    this.el.setAttribute('animation__continuous', {
                        property: 'rotation',
                        to: '0 360 0',
                        dur: 8000,
                        loop: true,
                        easing: 'linear'
                    });
                }, 2500);
                
                // Add pulsing "legendary" effect
                setTimeout(() => {
                    this.el.setAttribute('animation__pulse', {
                        property: 'scale',
                        from: '1 1 1',
                        to: '1.2 1.2 1.2',
                        dur: 2000,
                        direction: 'alternate',
                        loop: true,
                        easing: 'easeInOutSine'
                    });
                }, 3000);
                
                // Epic celebration sequence
                this.epicCelebration();
            },
            
            epicCelebration: function () {
                // Lightning flash effect with all lights
                const lights = document.querySelectorAll('a-light[type="point"]');
                lights.forEach((light, index) => {
                    setTimeout(() => {
                        light.setAttribute('animation__flash', {
                            property: 'light.intensity',
                            from: '0.4',
                            to: '2.0',
                            dur: 300,
                            direction: 'alternate',
                            loop: 3,
                            easing: 'easeInOutQuad'
                        });
                    }, index * 150);
                });
                
                // Victory messages in console
                setTimeout(() => {
                    console.log('üéä ¬°FELICIDADES! ¬°PREMIO √âPICO DESBLOQUEADO! üéä');
                    console.log('üëë ROSTRO Y C√çRCULO - NFT ULTRA RARO üëë');
                    console.log('üí∞ ¬°Este es un NFT de valor incalculable! üí∞');
                }, 2000);
                
                setTimeout(() => {
                    console.log('‚ú® ¬°Eres el afortunado ganador de esta obra maestra digital! ‚ú®');
                }, 4000);
            }
        });
        
        // Test mode - trigger animation with spacebar
        document.addEventListener('keydown', function(event) {
            if (event.code === 'Space' && !revealTriggered) {
                console.log('üöÄ ACTIVANDO NFT REVEAL √âPICO!');
                const model = document.getElementById('rostro-circulo-model');
                if (model && model.components['nft-reveal-animation']) {
                    model.components['nft-reveal-animation'].startEpicReveal();
                    revealTriggered = true;
                }
            }
        });
        
        // Add CSS for bounce animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes bounce {
                0% { transform: translate(-50%, -50%) scale(0); }
                50% { transform: translate(-50%, -50%) scale(1.2); }
                100% { transform: translate(-50%, -50%) scale(1); }
            }
        `;
        document.head.appendChild(style);
        
        console.log('üèÜ NFT REVEAL DEMO CARGADO!');
        console.log('üéÆ Presiona ESPACIO para ver la revelaci√≥n √©pica!');
        console.log('üíé ¬°Prep√°rate para ganar un NFT legendario! üíé');
    </script>
</body>
</html>
