<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1, maximum-scale=1">
    <title>ARtedita 3D Viewer</title>
    <script src="https://encantar.dev/dist/encantar.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aframe@1.6.0/dist/aframe-v1.6.0.min.js"></script>
    <script src="https://encantar.dev/dist/plugins/aframe-with-encantar.min.js"></script>
    <style>
        /* Reset and mobile-first approach */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background-color: #000;
            font-family: Arial, sans-serif;
            position: fixed;
            top: 0;
            left: 0;
        }

        /* Mobile viewport meta fixes */
        @media screen and (max-width: 768px) {
            html, body {
                height: 100vh;
                height: -webkit-fill-available;
            }
        }

        /* A-Frame scene full viewport - mobile optimized */
        a-scene {
            width: 100vw !important;
            height: 100vh !important;
            height: -webkit-fill-available !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            z-index: 1 !important;
        }

        /* AR viewport full screen - mobile optimized */
        ar-viewport {
            width: 100vw !important;
            height: 100vh !important;
            height: -webkit-fill-available !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
        }

        /* HUD responsive styling - mobile optimized */
        ar-hud {
            width: 100vw !important;
            height: 100vh !important;
            height: -webkit-fill-available !important;
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
        }

        #scan {
            width: 100%;
            height: 100%;
            object-fit: contain;
            opacity: 0.75;
        }

        /* Scene info overlay - responsive */
        /* Scene info overlay - mobile optimized */
        #scene-info {
            position: fixed !important;
            top: 20px !important;
            right: 20px !important;
            background: rgba(0,0,0,0.9) !important;
            color: white !important;
            padding: 12px 16px !important;
            border-radius: 12px !important;
            font-family: Arial, sans-serif !important;
            font-size: 14px !important;
            border: 3px solid #4CAF50 !important;
            z-index: 9999 !important;
            max-width: 220px !important;
            backdrop-filter: blur(10px) !important;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3) !important;
        }

        /* Mobile specific adjustments */
        @media screen and (max-width: 768px) {
            #scene-info {
                font-size: 16px !important;
                padding: 15px 20px !important;
                top: calc(20px + env(safe-area-inset-top)) !important;
                right: 20px !important;
                max-width: 250px !important;
                border-width: 4px !important;
            }
        }



        /* Prevent zoom and scrolling on mobile - enhanced */
        body {
            touch-action: manipulation;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
            overscroll-behavior: none;
        }

        /* Prevent pull-to-refresh and other mobile browser behaviors */
        html {
            overscroll-behavior: none;
            -webkit-overflow-scrolling: touch;
        }

        /* Hide mobile browser UI elements */
        @media screen and (max-width: 768px) {
            body {
                -webkit-appearance: none;
                -moz-appearance: none;
                appearance: none;
            }
        }
    </style>
</head>
<body>
    <!-- A-Frame AR Scene -->
    <a-scene encantar="stats: true; gizmos: true; powerPreference: high-performance" loading-screen="enabled: false">

        <!-- Sources of data -->
        <ar-sources>
            <ar-camera-source></ar-camera-source> <!-- webcam -->
        </ar-sources>

        <!-- Trackers -->
        <ar-trackers>
            <ar-image-tracker>
                <ar-reference-image name="my-reference-image" src="custom-reference.png"></ar-reference-image>
            </ar-image-tracker>
        </ar-trackers>

        <!-- AR Viewport -->
        <ar-viewport>
            <ar-hud>
                <img id="scan" src="scan.png" draggable="false" style="width: 100%; height: 100%; object-fit: contain; opacity: 0.75;">
                <!-- Dynamic info overlay -->
                <div id="scene-info" style="position: fixed; top: 15px; right: 15px; background: rgba(0,0,0,0.9); color: white; padding: 12px; border-radius: 8px; font-family: Arial, sans-serif; font-size: 14px; border: 3px solid #4CAF50; box-shadow: 0 4px 8px rgba(0,0,0,0.6); z-index: 99999; max-width: 180px;">
                    <div id="scene-title" style="font-weight: bold; color: #4CAF50;">üé≠ ROSTRO Y C√çRCULO</div>
                    <div style="margin: 4px 0; font-size: 12px; color: #CCC;">üì∑ Point camera at marker</div>
                    <div id="scene-description" style="color: #FFD700; font-weight: bold;">üé® ARTISTIC 3D MODEL!</div>
                </div>


            </ar-hud>
        </ar-viewport>

        <!-- Virtual camera for AR -->
        <ar-camera></ar-camera>

        <!-- ROSTRO Y C√çRCULO MODEL -->
        <ar-root id="rostro-scene" reference-image="my-reference-image" visible="true">
            <!-- Rostro y C√≠rculo Model -->
            <!-- Rostro y C√≠rculo Model - positioned where the red cube was visible -->
            <a-gltf-model id="rostro-circulo-model"
                          src="rostro y circulo.glb"
                          position="0 -0.5 0"
                          scale="0.5 0.5 0.5"
                          rotation="0 0 0"
                          animation="property: rotation; to: 0 360 0; loop: true; dur: 8000"
                          shadow="cast: true; receive: true">
            </a-gltf-model>

            <!-- Artistic lighting for the face and circle -->
            <a-light type="ambient" color="#ffffff" intensity="0.6"></a-light>
            <a-light type="directional" position="2 4 3" color="#ffffff" intensity="0.8" shadow="cast: true"></a-light>
            <a-light type="point" position="-1 2 1" color="#FF6B6B" intensity="0.4"></a-light>
            <a-light type="point" position="1 2 1" color="#4ECDC4" intensity="0.4"></a-light>


        </ar-root>

    </a-scene>

    <script>
        // ROSTRO Y C√çRCULO AR DEMO

        console.log('üé≠ ROSTRO Y C√çRCULO AR MODEL LOADED!');
        console.log('üì∑ Point your camera at the reference image to see the 3D model!');
    </script>
</body>
</html>
